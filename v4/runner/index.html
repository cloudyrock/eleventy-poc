<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="Mongock Documentation">

    <title>Mongock Documentation</title>

    <link rel="icon" type="image/svg+xml" href="/favicon/favicon.svg" sizes="any" />
    <link rel="apple-touch-icon" sizes="180x180" href="/favicon/apple-touch-icon.png" />
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon/favicon-32x32.png" />
    <link rel="shortcut icon" href="/favicon/favicon.ico" />
    <link href="/styles/base-styles.css" rel="stylesheet" />
    <link href="/styles/content.css" rel="stylesheet" />
    <link href="/styles/layout.css" rel="stylesheet" />
    <link href="/styles/side-menu.css" rel="stylesheet" />
    <link href="/styles/util.css" rel="stylesheet" />
    <link href="/styles/prism-base16-ateliersulphurpool.light.css" rel="stylesheet" />
    <link href="https://fonts.googleapis.com/css?family=Fjalla+One|Roboto" rel="stylesheet" />
  </head>

  <body>

    <!-- Header navigation -->
    <header>
  <div class="page-max-width d-flex flex-space-between flex-content-center">
    <div class="d-flex flex-items-center ml-0 mr-auto">
      <a class="logo d-inline-flex flex-items-center" href="https://www.mongock.io">
        <span class="mr-12">Mongock</span>
        <p class="text-left">
          <img src="/images/logo.png" width="15%" alt="Mongock">
        </p>  
       </a>
    </div>

    <nav class="d-flex flex-items-center ml-auto mr-0">
      <a class="mr-24" href="/">
        Home
      </a> 
      <a class="mr-24" href="/v5/professional" style="color: #05a18a;">
        Professional
      </a>
      <a href="https://github.com/mongock/mongock" target="_blank" rel="nofolllow">
        <!-- Source: <https://github.com/encharm/Font-Awesome-SVG-PNG/blob/master/black/svg/github.svg> -->
<svg focusable="false" viewBox="0 0 1792 1792"><title>GitHub</title><path d="M896 128q209 0 385.5 103t279.5 279.5 103 385.5q0 251-146.5 451.5t-378.5 277.5q-27 5-40-7t-13-30q0-3 .5-76.5t.5-134.5q0-97-52-142 57-6 102.5-18t94-39 81-66.5 53-105 20.5-150.5q0-119-79-206 37-91-8-204-28-9-81 11t-92 44l-38 24q-93-26-192-26t-192 26q-16-11-42.5-27t-83.5-38.5-85-13.5q-45 113-8 204-79 87-79 206 0 85 20.5 150t52.5 105 80.5 67 94 39 102.5 18q-39 36-49 103-21 10-45 15t-57 5-65.5-21.5-55.5-62.5q-19-32-48.5-52t-49.5-24l-20-3q-21 0-29 4.5t-5 11.5 9 14 13 12l7 5q22 10 43.5 38t31.5 51l10 23q13 38 44 61.5t67 30 69.5 7 55.5-3.5l23-4q0 38 .5 88.5t.5 54.5q0 18-13 30t-40 7q-232-77-378.5-277.5t-146.5-451.5q0-209 103-385.5t279.5-279.5 385.5-103zm-477 1103q3-7-7-12-10-3-13 2-3 7 7 12 9 6 13-2zm31 34q7-5-2-16-10-9-16-3-7 5 2 16 10 10 16 3zm30 45q9-7 0-19-8-13-17-6-9 5 0 18t17 7zm42 42q8-8-4-19-12-12-20-3-9 8 4 19 12 12 20 3zm57 25q3-11-13-16-15-4-19 7t13 15q15 6 19-6zm63 5q0-13-17-11-16 0-16 11 0 13 17 11 16 0 16-11zm58-10q-2-11-18-9-16 3-14 15t18 8 14-14z"></path></svg>

        <span class="ml-8">GitHub</span>
      </a>
    </nav>
  </div>
</header>


    <!-- Main page content -->
    <main class="page-max-width">
      




<script>
const versions = [];

 
versions.push({value: "v5", index: "/index.html" });
  
let defaultVersion = "v5";
  

 
versions.push({value: "v4", index: "/v4/index.html" });
  

 
versions.push({value: "v3", index: "/v3/index.html" });
  


const selectedVersions = defaultVersion;
window.onload = function() {
  const urlVersion = window.location.pathname.split("/")[1];
  let validVersion = "";
  versions.forEach(version => {
    if(urlVersion == version.value) {
      validVersion = urlVersion;
    }
  })
  pickVersion(validVersion);
};

function pickVersion(urlVersion) {
  const pickedVersion = urlVersion || defaultVersion;
  document.getElementById("versionSelect").value = pickedVersion;
  versions.forEach(version => {
    const htmlElement = document.getElementById(version.value);
    if(htmlElement) {
      if(pickedVersion == version.value) {
        htmlElement.style.display = "inline";
      } else {
        htmlElement.style.display = "none";
      }
    }
    
  });
}

function changeVersion() {
  var newVersion = document.getElementById("versionSelect").value;
  for(let i = 0 ; i < versions.length ; i++) {
    const version = versions[i];
    if(version.value == newVersion) {
      window.location.href = window.location.origin + version.index;

    } else {
      console.log("version " + newVersion + " not found. Not redirecting.")
    }
  }
}

</script>






<aside class="side-menu">
  
  <select style="width: 100%" name="version" id="versionSelect" onchange="changeVersion()">
    
      <option value="v5">version 5</option>
    
      <option value="v4">version 4</option>
    
      <option value="v3">version 3</option>
    
  </select>
  <br /><br />



  <nav class="menu-root">
    
      <div id="v5" style="display: none;">
         
          
  
  <h7 class="menu-item">
    
      <a class="menu-item "  href="/index.html">
        What is mongock
      </a>
    
  </h7>

          <nav class="What is mongock">
            
          </nav>
         
          
  
  <h7 class="menu-item">
    
      <a class="menu-item "  href="/v5/technical-overview/index.html">
        Technical overview
      </a>
    
  </h7>

          <nav class="Technical overview">
            
          </nav>
         
          
  
  <h7 class="menu-item">
    
      <a class="menu-item "  href="/v5/get-started/index.html">
        Get started
      </a>
    
  </h7>

          <nav class="Get started">
            
          </nav>
         
          
  
  <h7 class="menu-item">
    
      <a class="menu-item "  href="/v5/migration/index.html">
        Migration
      </a>
    
  </h7>

          <nav class="Migration">
            
          </nav>
         
          
  
  <h7 class="menu-item">
    
      <a class="menu-item "  href="/v5/runner/index.html">
        Runner
      </a>
    
  </h7>

          <nav class="Runner">
            
              
  
  <a class="menu-item "  href="/v5/runner/standalone/index.html">
    Runner: Standalone
  </a>

            
              
  
  <a class="menu-item "  href="/v5/runner/springboot/index.html">
    Runner: Springboot
  </a>

            
          </nav>
         
          
  
  <h7 class="menu-item">
    
      <a class="menu-item "  href="/v5/driver/index.html">
        Driver
      </a>
    
  </h7>

          <nav class="Driver">
            
              
  
  <a class="menu-item "  href="/v5/driver/mongodb-sync/index.html">
    MongoDB Sync
  </a>

            
              
  
  <a class="menu-item "  href="/v5/driver/mongodb-springdata/index.html">
    MongoDB Spring data
  </a>

            
              
  
  <a class="menu-item "  href="/v5/driver/mongodb-reactive/index.html">
    MongoDB reactive
  </a>

            
              
  
  <a class="menu-item "  href="/v5/driver/cosmosdb/index.html">
    CosmosDB
  </a>

            
              
  
  <a class="menu-item "  href="/v5/driver/documentdb/index.html">
    DocumentDB
  </a>

            
              
  
  <a class="menu-item "  href="/v5/driver/dynamodb/index.html">
    DynamoDB
  </a>

            
          </nav>
         
          
  
  <h7 class="menu-item">
    
      Features
    
  </h7>

          <nav class="Features">
            
              
  
  <a class="menu-item "  href="/v5/features/transactions/index.html">
    Transactions
  </a>

            
              
  
  <a class="menu-item "  href="/v5/features/events/index.html">
    Events
  </a>

            
              
  
  <a class="menu-item "  href="/v5/features/legacy-migration/index.html">
    Legacy migration
  </a>

            
              
  
  <a class="menu-item "  href="/v5/features/custom-injections/index.html">
    Custom injections
  </a>

            
          </nav>
         
          
  
  <h7 class="menu-item">
    
      <a class="menu-item "  href="/v5/cli/index.html">
        CLI
      </a>
    
  </h7>

          <nav class="CLI">
            
              
  
  <a class="menu-item "  href="/v5/cli/operations/index.html">
    Operations
  </a>

            
          </nav>
         
          
  
  <h7 class="menu-item">
    
      <a class="menu-item "  href="/v5/professional/index.html">
        Professional
      </a>
    
  </h7>

          <nav class="Professional">
            
              
  
  <a class="menu-item "  href="/v5/professional/setup.html">
    Set up
  </a>

            
          </nav>
         
          
  
  <h7 class="menu-item">
    
      <a class="menu-item "  href="/v5/resources/index.html">
        Resources
      </a>
    
  </h7>

          <nav class="Resources">
            
          </nav>
         
          
  
  <h7 class="menu-item">
    
      <a class="menu-item "  href="/v5/testing/index.html">
        Testing
      </a>
    
  </h7>

          <nav class="Testing">
            
          </nav>
         
          
  
  <h7 class="menu-item">
    
      <a class="menu-item "  href="/v5/contributing/index.html">
        Contributing
      </a>
    
  </h7>

          <nav class="Contributing">
            
          </nav>
         
          
  
  <h7 class="menu-item">
    
      <a class="menu-item "  href="/v5/faq/index.html">
        FAQ
      </a>
    
  </h7>

          <nav class="FAQ">
            
          </nav>
         
          
  
  <h7 class="menu-item">
    
      <a class="menu-item "  href="/v5/from-version-4-to-5/index.html">
        From version 4 to 5
      </a>
    
  </h7>

          <nav class="From version 4 to 5">
            
          </nav>
        
      </div>  
    
      <div id="v4" style="display: none;">
         
          
  
  <h7 class="menu-item">
    
      <a class="menu-item "  href="/v4/index.html">
        What is Mongock?
      </a>
    
  </h7>

          <nav class="What is Mongock?">
            
          </nav>
         
          
  
  <h7 class="menu-item">
    
      <a class="menu-item "  href="/v4/main-concepts/index.html">
        Main concepts
      </a>
    
  </h7>

          <nav class="Main concepts">
            
          </nav>
         
          
  
  <h7 class="menu-item">
    
      <a class="menu-item "  href="/v4/quick-start/index.html">
        Quick start
      </a>
    
  </h7>

          <nav class="Quick start">
            
          </nav>
         
          
  
  <h7 class="menu-item">
    
      <a class="menu-item "  href="/v4/changelogs/index.html">
        Changelogs
      </a>
    
  </h7>

          <nav class="Changelogs">
            
          </nav>
         
          
  
  <h7 class="menu-item">
    
      <a class="menu-item "  href="/v4/driver/index.html">
        Driver
      </a>
    
  </h7>

          <nav class="Driver">
            
          </nav>
         
          
  
  <h7 class="menu-item">
    
      <a class="menu-item current-page"  href="/v4/runner/index.html">
        Runner
      </a>
    
  </h7>

          <nav class="Runner">
            
          </nav>
         
          
  
  <h7 class="menu-item">
    
      <a class="menu-item "  href="/v4/compatibility/index.html">
        Compatibility
      </a>
    
  </h7>

          <nav class="Compatibility">
            
          </nav>
         
          
  
  <h7 class="menu-item">
    
      <a class="menu-item "  href="/v4/lock/index.html">
        Lock
      </a>
    
  </h7>

          <nav class="Lock">
            
          </nav>
         
          
  
  <h7 class="menu-item">
    
      <a class="menu-item "  href="/v4/custom-injections/index.html">
        Custom injections
      </a>
    
  </h7>

          <nav class="Custom injections">
            
          </nav>
         
          
  
  <h7 class="menu-item">
    
      <a class="menu-item "  href="/v4/spring-features/index.html">
        Spring features
      </a>
    
  </h7>

          <nav class="Spring features">
            
          </nav>
         
          
  
  <h7 class="menu-item">
    
      <a class="menu-item "  href="/v4/advanced-configuration/index.html">
        Advanced configuration
      </a>
    
  </h7>

          <nav class="Advanced configuration">
            
          </nav>
         
          
  
  <h7 class="menu-item">
    
      <a class="menu-item "  href="/v4/transactions/index.html">
        Transactions
      </a>
    
  </h7>

          <nav class="Transactions">
            
          </nav>
         
          
  
  <h7 class="menu-item">
    
      <a class="menu-item "  href="/v4/reactive/index.html">
        Reactive
      </a>
    
  </h7>

          <nav class="Reactive">
            
          </nav>
         
          
  
  <h7 class="menu-item">
    
      <a class="menu-item "  href="/v4/events/index.html">
        Events
      </a>
    
  </h7>

          <nav class="Events">
            
          </nav>
         
          
  
  <h7 class="menu-item">
    
      <a class="menu-item "  href="/v4/legacy-migration/index.html">
        Legacy migration
      </a>
    
  </h7>

          <nav class="Legacy migration">
            
          </nav>
         
          
  
  <h7 class="menu-item">
    
      <a class="menu-item "  href="/v4/releases/index.html">
        Releases
      </a>
    
  </h7>

          <nav class="Releases">
            
          </nav>
        
      </div>  
    
      <div id="v3" style="display: none;">
         
          
  
  <h7 class="menu-item">
    
      <a class="menu-item "  href="/v3/index.html">
        Version3
      </a>
    
  </h7>

          <nav class="Version3">
            
          </nav>
        
      </div>  
    
  </nav>
</aside>

      <article>
        <h1 id="runner"><a class="header-anchor" href="#runner">#</a> Runner</h1>
<p>In <a href="/v4/main-concepts#runner">Main concepts</a> we already mentioned the concept of <strong>runners</strong>. Runners are the ones dealing with the process logic and framework.</p>
<h2 id="motivation"><a class="header-anchor" href="#motivation">#</a> Motivation</h2>
<p>While Mongock standalone could be run with any framework, it would be nice that the user has some kind of adaption to take advantage of the underlying frameworks, for any relevant framework in the market. For example, in Spring, been able to use the Spring context, profiles or property files, etc. And once having that, it would be ideal for the user to be able to use version of Mongock adapted to the specific framework's version he is using and once a new version come up and he decide to not upgrade, still having support for the legacy version.</p>
<p>This is the goal of Mongock runners. Currently Mongock only provides support for standalone(which can be run in any framework) and Spring 5, but the objective is to provide support for any relevant framework in the market.</p>
<h2 id="how-it-works"><a class="header-anchor" href="#how-it-works">#</a> How it works</h2>
<p>Technically, as drivers, runners are simple implementations of the same interface which, providing a bridge between the drivers and the process executor.</p>
<p>The idea is to provide a specific runner for every relevant framework in the market. Open source users will be able to add runners, following the runner specification.</p>
<h2 id="runners-available"><a class="header-anchor" href="#runners-available">#</a> Runners available</h2>
<p>Currently Mongock provides two runners: Mongock standalone and Spring 5.</p>
<h3 id="mongock-standalone-runner"><a class="header-anchor" href="#mongock-standalone-runner">#</a> Mongock standalone runner</h3>
<p>It does not used any framework support for its execution. Ideally when running standalone Java applications, you want to have all the control of the Mongock instance and when it's executed or when you are using a framework for which there is no specific Mongock runner, you can use Mongock standalone while we develop it.</p>
<h3 id="mongock-spring-v5-runner"><a class="header-anchor" href="#mongock-spring-v5-runner">#</a> Mongock Spring v5 runner</h3>
<p>Based on Spring 5 and Spring Boot 2, its objetive to provide the easiest way to run Mongock with it. It provide support for Spring profiles, context, properties, annotation approach based on Spring configuration, etc.</p>
<p>Unlike Mongock standalone, it provides two building approach: the traditional builder approach and annotation approach(<strong>@EnableMongock</strong>)</p>
<h2 id="building-time%3A-runner"><a class="header-anchor" href="#building-time%3A-runner">#</a> Building time: Runner</h2>
<p>When use it the annotation approach, you just need to import the required Mongock runner dependency, annotate your SpringBootApplication with <strong>@EnableMongock</strong> and everything is done for you.  All the configuration should be provided via properties file.</p>
<p>However, if you opt for the manual builder approach, you need to build the runner yourself by using Mongock builder</p>
<h4 id="configuration"><a class="header-anchor" href="#configuration">#</a> Configuration</h4>
<table>
<thead>
<tr>
<th style="text-align:left">Configuration parameter</th>
<th style="text-align:left">Default value</th>
<th style="text-align:left">Type</th>
<th style="text-align:left">Description</th>
<th style="text-align:left">Link</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><strong>changeLogScanPackage</strong></td>
<td style="text-align:left">mandatory. At least one.</td>
<td style="text-align:left">List&lt;String&gt;</td>
<td style="text-align:left">Instructs Mongock where to find the changeLog classes.</td>
<td style="text-align:left"><a href="/v4/changelogs">link</a></td>
</tr>
<tr>
<td style="text-align:left"><strong>springContext</strong></td>
<td style="text-align:left">mandatory for Spring</td>
<td style="text-align:left">ApplicationContext</td>
<td style="text-align:left">Sets the spring Application context for bean injections into ChangeSet methods. It's where the custom beans, MongoTemplate, profiles, etc. is take from.</td>
<td style="text-align:left"><a href="/v4/advanced-configuration#spring-context">link</a></td>
</tr>
<tr>
<td style="text-align:left"><strong>metadata</strong></td>
<td style="text-align:left">null</td>
<td style="text-align:left">Map&lt;String, Object&gt;</td>
<td style="text-align:left">Custom data attached to the migration. It will added to all changes in changeLog collection</td>
<td style="text-align:left"><a href="/v4/advanced-configuration#metadata">link</a></td>
</tr>
<tr>
<td style="text-align:left"><strong>startSystemVersion</strong></td>
<td style="text-align:left">&quot;0&quot;</td>
<td style="text-align:left">String</td>
<td style="text-align:left">System version to start with</td>
<td style="text-align:left"><a href="/v4/advanced-configuration#systemversion">link</a></td>
</tr>
<tr>
<td style="text-align:left"><strong>endSystemVersions</strong></td>
<td style="text-align:left">MAX_VALUE</td>
<td style="text-align:left">String</td>
<td style="text-align:left">System version to end with.</td>
<td style="text-align:left"><a href="/v4/advanced-configuration#systemversion">link</a></td>
</tr>
<tr>
<td style="text-align:left"><strong>throwExceptionIfCannot</strong>....</td>
<td style="text-align:left">true</td>
<td style="text-align:left">boolean</td>
<td style="text-align:left">Mongock will throw MongockException if lock can not be obtained. Builder method <strong>setLockConfig</strong></td>
<td style="text-align:left"><a href="/v4/lock">link</a></td>
</tr>
<tr>
<td style="text-align:left"><strong>legacyMigration</strong></td>
<td style="text-align:left">null</td>
<td style="text-align:left">Object</td>
<td style="text-align:left">Configuration related to migrate from legacy systems.</td>
<td style="text-align:left"><a href="/v4/legacy-migration">link</a></td>
</tr>
<tr>
<td style="text-align:left"><strong>trackIgnored</strong></td>
<td style="text-align:left">false</td>
<td style="text-align:left">boolean</td>
<td style="text-align:left">Specifies if ignored changeSets(already executed, etc.) should be track in the changeLog collection with <strong>IGNORED</strong> status</td>
<td style="text-align:left"><a href="/v4/advanced-configuration#trackignored">link</a></td>
</tr>
<tr>
<td style="text-align:left"><strong>enabled</strong></td>
<td style="text-align:left">true</td>
<td style="text-align:left">boolean</td>
<td style="text-align:left">If false, will disable Mongock execution</td>
<td style="text-align:left"><a href="/v4/advanced-configuration#enable">link</a></td>
</tr>
</tbody>
</table>
<div class="tip">
When using the builder method <b>setLockConfig</b>, which takes lockAcquiredForMinutes, maxWaitingForLockMinutes and maxTries as parameters, <b>will implicitly set throwExceptionIfCannotObtainLock to true.</b>
</div>
<p><em><strong>Properties</strong></em></p>
<pre class="language-yaml"><code class="language-yaml"><div class="highlight-line"><span class="token key atrule">mongock</span><span class="token punctuation">:</span></div><div class="highlight-line">  <span class="token key atrule">change-logs-scan-package</span><span class="token punctuation">:</span></div><div class="highlight-line">    <span class="token punctuation">-</span> com.github.cloudyrock.mongock<span class="token punctuation">...</span>changelogs.client.initializer</div><div class="highlight-line">    <span class="token punctuation">-</span> com.github.cloudyrock.mongock<span class="token punctuation">...</span>changelogs.client.updater</div><div class="highlight-line">  <span class="token key atrule">metadata</span><span class="token punctuation">:</span></div><div class="highlight-line">    <span class="token key atrule">change-motivation</span><span class="token punctuation">:</span> Missing field in collection</div><div class="highlight-line">    <span class="token key atrule">decided-by</span><span class="token punctuation">:</span> Tom Waugh</div><div class="highlight-line">  <span class="token key atrule">start-system-version</span><span class="token punctuation">:</span> <span class="token number">1.3</span></div><div class="highlight-line">  <span class="token key atrule">end-system-version</span><span class="token punctuation">:</span> <span class="token number">6.4</span></div><div class="highlight-line">  <span class="token key atrule">lock-acquired-for-minutes</span><span class="token punctuation">:</span> <span class="token number">10</span></div><div class="highlight-line">  <span class="token key atrule">max-waiting-for-lock-minutes</span><span class="token punctuation">:</span> <span class="token number">4</span></div><div class="highlight-line">  <span class="token key atrule">max-tries</span><span class="token punctuation">:</span> <span class="token number">5</span></div><div class="highlight-line">  <span class="token key atrule">throw-exception-if-cannot-obtain-lock</span><span class="token punctuation">:</span> <span class="token boolean important">true</span></div><div class="highlight-line">  <span class="token key atrule">legacy-migration</span><span class="token punctuation">:</span></div><div class="highlight-line">    <span class="token key atrule">origin</span><span class="token punctuation">:</span> mongobeeChangeLogCollection</div><div class="highlight-line">    <span class="token key atrule">mapping-fields</span><span class="token punctuation">:</span></div><div class="highlight-line">      <span class="token key atrule">change-id</span><span class="token punctuation">:</span> legacyChangeIdField</div><div class="highlight-line">      <span class="token key atrule">author</span><span class="token punctuation">:</span> legacyAuthorField</div><div class="highlight-line">      <span class="token key atrule">timestamp</span><span class="token punctuation">:</span> legacyTimestampField</div><div class="highlight-line">      <span class="token key atrule">change-log-class</span><span class="token punctuation">:</span> legacyChangeLogClassField</div><div class="highlight-line">      <span class="token key atrule">change-set-method</span><span class="token punctuation">:</span> legacyChangeSetMethodField</div><div class="highlight-line">  <span class="token key atrule">track-ignored</span><span class="token punctuation">:</span> <span class="token boolean important">true</span></div><div class="highlight-line">  <span class="token key atrule">enabled</span><span class="token punctuation">:</span> <span class="token boolean important">true</span></div></code></pre>
<p><em><strong>mongock-spring-v5</strong></em></p>
<pre class="language-java"><code class="language-java"><div class="highlight-line">builder</div><div class="highlight-line">    <span class="token punctuation">.</span><span class="token function">addChangeLogsScanPackage</span><span class="token punctuation">(</span><span class="token string">"com.github.cloudyrock.mongock.integrationtests.spring5.springdata3.changelogs.client.initializer"</span><span class="token punctuation">)</span></div><div class="highlight-line">    <span class="token punctuation">.</span><span class="token function">addChangeLogsScanPackage</span><span class="token punctuation">(</span><span class="token string">"com.github.cloudyrock.mongock.integrationtests.spring5.springdata3.changelogs.client.updater"</span><span class="token punctuation">)</span></div><div class="highlight-line">    <span class="token punctuation">.</span><span class="token function">setSpringContext</span><span class="token punctuation">(</span>springContext<span class="token punctuation">)</span></div><div class="highlight-line">    <span class="token punctuation">.</span><span class="token function">withMetadata</span><span class="token punctuation">(</span></div><div class="highlight-line">        <span class="token keyword">new</span> <span class="token class-name">HashMap</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span></div><div class="highlight-line">    <span class="token punctuation">.</span><span class="token function">setStartSystemVersion</span><span class="token punctuation">(</span><span class="token string">"1.3"</span><span class="token punctuation">)</span></div><div class="highlight-line">    <span class="token punctuation">.</span><span class="token function">setEndSystemVersion</span><span class="token punctuation">(</span><span class="token string">"6.4"</span><span class="token punctuation">)</span></div><div class="highlight-line">    <span class="token punctuation">.</span><span class="token function">setLockConfig</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">)</span></div><div class="highlight-line">    <span class="token punctuation">.</span><span class="token function">setLegacyMigration</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">MongockLegacyMigration</span><span class="token punctuation">(</span></div><div class="highlight-line">        <span class="token string">"mongobeeChangeLogCollection"</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token string">"legacyChangeIdField"</span><span class="token punctuation">,</span> <span class="token string">"legacyAuthorField"</span><span class="token punctuation">,</span> <span class="token string">"legacyTimestampField"</span><span class="token punctuation">,</span> <span class="token string">"legacyChangeLogClassField"</span><span class="token punctuation">,</span> <span class="token string">"legacyChangeSetMethodField"</span><span class="token punctuation">)</span><span class="token punctuation">)</span></div><div class="highlight-line">    <span class="token punctuation">.</span><span class="token function">setTrackIgnored</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span></div><div class="highlight-line">    <span class="token punctuation">.</span><span class="token function">setEnabled</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span></div><div class="highlight-line"></div></code></pre>
<p><em><strong>Standalone</strong></em></p>
<pre class="language-java"><code class="language-java"><div class="highlight-line">builder</div><div class="highlight-line">    <span class="token punctuation">.</span><span class="token function">addChangeLogsScanPackage</span><span class="token punctuation">(</span><span class="token string">"com.github.cloudyrock.mongock.integrationtests.spring5.springdata3.changelogs.client.initializer"</span><span class="token punctuation">)</span></div><div class="highlight-line">    <span class="token punctuation">.</span><span class="token function">addChangeLogsScanPackage</span><span class="token punctuation">(</span><span class="token string">"com.github.cloudyrock.mongock.integrationtests.spring5.springdata3.changelogs.client.updater"</span><span class="token punctuation">)</span></div><div class="highlight-line">    <span class="token punctuation">.</span><span class="token function">withMetadata</span><span class="token punctuation">(</span></div><div class="highlight-line">        <span class="token keyword">new</span> <span class="token class-name">HashMap</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span></div><div class="highlight-line">    <span class="token punctuation">.</span><span class="token function">setStartSystemVersion</span><span class="token punctuation">(</span><span class="token string">"1.3"</span><span class="token punctuation">)</span></div><div class="highlight-line">    <span class="token punctuation">.</span><span class="token function">setEndSystemVersion</span><span class="token punctuation">(</span><span class="token string">"6.4"</span><span class="token punctuation">)</span></div><div class="highlight-line">    <span class="token punctuation">.</span><span class="token function">setLockConfig</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">)</span></div><div class="highlight-line">    <span class="token punctuation">.</span><span class="token function">setLegacyMigration</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">MongockLegacyMigration</span><span class="token punctuation">(</span></div><div class="highlight-line">        <span class="token string">"mongobeeChangeLogCollection"</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token string">"legacyChangeIdField"</span><span class="token punctuation">,</span> <span class="token string">"legacyAuthorField"</span><span class="token punctuation">,</span> <span class="token string">"legacyTimestampField"</span><span class="token punctuation">,</span> <span class="token string">"legacyChangeLogClassField"</span><span class="token punctuation">,</span> <span class="token string">"legacyChangeSetMethodField"</span><span class="token punctuation">)</span><span class="token punctuation">)</span></div><div class="highlight-line">    <span class="token punctuation">.</span><span class="token function">setTrackIgnored</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span></div><div class="highlight-line">    <span class="token punctuation">.</span><span class="token function">setEnabled</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span></div><div class="highlight-line">    <span class="token punctuation">.</span><span class="token function">execute</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></div></code></pre>

      </article>
    </main>

    <!-- Footer -->
    <footer>
  <nav class="page-max-width d-flex flex-space-evenly flex-items-center">
    <a class="d-inline-flex flex-center flex-items-center" href="https://www.mongock.io">Mongock</a>
    <div class="d-flex flex-center flex-items-center">
      <a class="d-inline-flex flex-items-center mr-16" href="https://github.com/mongock/mongock" target="_blank" rel="nofollow">
        <!-- Source: <https://github.com/encharm/Font-Awesome-SVG-PNG/blob/master/black/svg/github.svg> -->
<svg focusable="false" viewBox="0 0 1792 1792"><title>GitHub</title><path d="M896 128q209 0 385.5 103t279.5 279.5 103 385.5q0 251-146.5 451.5t-378.5 277.5q-27 5-40-7t-13-30q0-3 .5-76.5t.5-134.5q0-97-52-142 57-6 102.5-18t94-39 81-66.5 53-105 20.5-150.5q0-119-79-206 37-91-8-204-28-9-81 11t-92 44l-38 24q-93-26-192-26t-192 26q-16-11-42.5-27t-83.5-38.5-85-13.5q-45 113-8 204-79 87-79 206 0 85 20.5 150t52.5 105 80.5 67 94 39 102.5 18q-39 36-49 103-21 10-45 15t-57 5-65.5-21.5-55.5-62.5q-19-32-48.5-52t-49.5-24l-20-3q-21 0-29 4.5t-5 11.5 9 14 13 12l7 5q22 10 43.5 38t31.5 51l10 23q13 38 44 61.5t67 30 69.5 7 55.5-3.5l23-4q0 38 .5 88.5t.5 54.5q0 18-13 30t-40 7q-232-77-378.5-277.5t-146.5-451.5q0-209 103-385.5t279.5-279.5 385.5-103zm-477 1103q3-7-7-12-10-3-13 2-3 7 7 12 9 6 13-2zm31 34q7-5-2-16-10-9-16-3-7 5 2 16 10 10 16 3zm30 45q9-7 0-19-8-13-17-6-9 5 0 18t17 7zm42 42q8-8-4-19-12-12-20-3-9 8 4 19 12 12 20 3zm57 25q3-11-13-16-15-4-19 7t13 15q15 6 19-6zm63 5q0-13-17-11-16 0-16 11 0 13 17 11 16 0 16-11zm58-10q-2-11-18-9-16 3-14 15t18 8 14-14z"></path></svg>

      </a>
      <a class="d-inline-flex flex-items-center" href="https://twitter.com/MongockTeam" target="_blank" rel="nofollow">
        <!-- Source: <https://github.com/encharm/Font-Awesome-SVG-PNG/blob/master/black/svg/twitter.svg> -->
<svg focusable="false" viewBox="0 0 1792 1792"><title>Twitter</title><path d="M1684 408q-67 98-162 167 1 14 1 42 0 130-38 259.5t-115.5 248.5-184.5 210.5-258 146-323 54.5q-271 0-496-145 35 4 78 4 225 0 401-138-105-2-188-64.5t-114-159.5q33 5 61 5 43 0 85-11-112-23-185.5-111.5t-73.5-205.5v-4q68 38 146 41-66-44-105-115t-39-154q0-88 44-163 121 149 294.5 238.5t371.5 99.5q-8-38-8-74 0-134 94.5-228.5t228.5-94.5q140 0 236 102 109-21 205-78-37 115-142 178 93-10 186-50z"></path></svg>

      </a>
    </div>
    <a class="d-inline-flex flex-center flex-items-center" href="https://github.com/mongock/mongock/issues" target="_blank" rel="nofollow">
      <!-- Source: <https://octicons.github.com/icon/issue-opened/> -->
<svg viewBox="0 0 14 16" version="1.1" width="112" aria-hidden="true"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg>

      <span class="ml-8">Issues</span>
    </a>
  </nav>
</footer>


  </body>
</html>
